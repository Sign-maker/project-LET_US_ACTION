"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[330],{330:function(e,a,t){t.r(a),t.d(a,{default:function(){return aa}});var n=t(2791),s="HomePage_section_HomePage__jKM4+",l="HomePage_container_HomePage__rt41b",r="HomePage_container_daliNorma__uZC3S",i="HomePage_container_MonthStats__bSkCY",o=t(9439),c=t(5861),d=t(4687),u=t.n(d),m=t(5705),_=t(8007),h=t(4651),y={modal:"MyDailyNormaModal_modal__dpA03",header:"MyDailyNormaModal_header__SF9Ii",title:"MyDailyNormaModal_title__lBG8N",closeButton:"MyDailyNormaModal_closeButton__84DNY",closeIcon:"MyDailyNormaModal_closeIcon__1GLJg",formulaBody:"MyDailyNormaModal_formulaBody__zRAb3",formulaBlock:"MyDailyNormaModal_formulaBlock__L2ynD",formula:"MyDailyNormaModal_formula__glu7p",text:"MyDailyNormaModal_text__H4dBN",formulaText:"MyDailyNormaModal_formulaText__rhgEU",formulaExplain:"MyDailyNormaModal_formulaExplain__XyYnf",calc:"MyDailyNormaModal_calc__ZLL-T",calcTitle:"MyDailyNormaModal_calcTitle__JwDiC",calcForm:"MyDailyNormaModal_calcForm__ay8Gn",choiceGender:"MyDailyNormaModal_choiceGender__RcwV-",genderText:"MyDailyNormaModal_genderText__-0+Lk",calcWeight:"MyDailyNormaModal_calcWeight__YH1Sa",calcLabel:"MyDailyNormaModal_calcLabel__PGSef",calcInput:"MyDailyNormaModal_calcInput__pVpMA",calcQuantity:"MyDailyNormaModal_calcQuantity__OvLSb",quantitytext:"MyDailyNormaModal_quantitytext__AzVwb",quantityInput:"MyDailyNormaModal_quantityInput__aV+te",drinkQuantity:"MyDailyNormaModal_drinkQuantity__cCGHJ",drinkInput:"MyDailyNormaModal_drinkInput__Z3zNU",error:"MyDailyNormaModal_error__8MvVi",error_consumedWater:"MyDailyNormaModal_error_consumedWater__qeYkY",inputError:"MyDailyNormaModal_inputError__pX3td",saveButton:"MyDailyNormaModal_saveButton__98jnl"},x=t(6564),f="MyDailyNormaModalBtn_saveButton__huOoj",p="MyDailyNormaModalBtn_spinnerCss__qyA-v",N=t(3329),v=function(e){var a=e.isSubmitting,t=e.disabled,n=e.onClick;return(0,N.jsx)("button",{className:f,onClick:n,type:"submit",disabled:t,children:a?(0,N.jsx)("div",{className:p,children:(0,N.jsx)(x.Z,{size:20,color:"#ffffff",loading:a})}):"Save"})},j=t(4420),g=t(4189),b=t(297),M=t(9346),w=function(e){var a=e.onClose,t=(0,j.v9)((function(e){return e.auth.user})).dailyNorma,s=t?(t/1e3).toFixed(1):"2.0",l=(0,n.useState)(!1),r=(0,o.Z)(l,2),i=r[0],d=r[1],x=(0,n.useState)(""),f=(0,o.Z)(x,2),p=f[0],w=f[1],D=(0,n.useState)(""),S=(0,o.Z)(D,2),T=S[0],W=S[1],L=(0,n.useState)(s),C=(0,o.Z)(L,2),k=C[0],B=C[1],E=(0,n.useState)("female"),Z=(0,o.Z)(E,2),F=Z[0],O=Z[1],I=(0,n.useState)(s),P=(0,o.Z)(I,2),R=P[0],z=P[1],H=(0,n.useState)(!1),A=(0,o.Z)(H,2),V=A[0],Y=A[1],G=(0,g.a)().updateMyDailyNorma,q=(0,b.O)().updateStoreByDailyNorma;(0,n.useEffect)((function(){J(p,T,F)}),[p,T,F]),(0,n.useEffect)((function(){V||B(R)}),[R,V]),(0,n.useEffect)((function(){if(null!==t){var e=(t/1e3).toFixed(1);z(e),B(e)}}),[t]);var J=function(e,a,t){e>0&&a>=0?z(("female"===t?.03*e+.4*a:.04*e+.6*a).toFixed(1)):z(2)},U=function(){var e=(0,c.Z)(u().mark((function e(t,n){var s;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.setSubmitting,e.prev=1,s={dailyNorma:parseFloat(k)>0?1e3*parseFloat(k):1e3*parseFloat(R)},d(!0),e.next=6,G({dailyNorma:s.dailyNorma});case 6:q(s.dailyNorma),(0,M.S)("Your daily water norma has been successfully updated!"),a(),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),(0,M.s)(e.t0);case 14:return e.prev=14,d(!1),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])})));return function(a,t){return e.apply(this,arguments)}}(),X=_.Ry({weight:_.Rx().min(10,"Weight must be at least 10 kg").max(250,"Weight must be at most 250 kg").when("time",(function(e,a){return e>0?a.required("Weight is required if time is provided"):a})),time:_.Rx().max(24,"Time must be at most 24 hours").nullable(),consumedWater:_.Rx().required("Consumed water is required").min(0,"Consumed water must be at least 1").max(15,"Consumed water must be no more than 15")});return(0,N.jsxs)("div",{className:y.modal,children:[(0,N.jsxs)("div",{className:y.header,children:[(0,N.jsx)("p",{className:y.title,children:"My Daily Norma"}),(0,N.jsx)("button",{type:"submit",value:"close button",className:y.closeButton,onClick:a,children:(0,N.jsx)(h.S1K,{className:y.closeIcon})})]}),(0,N.jsx)(m.J9,{initialValues:{weight:"",time:"",consumedWater:s},validationSchema:X,onSubmit:U,validateOnChange:!0,validateOnBlur:!0,children:function(e){var a=e.isSubmitting,t=e.errors,n=e.touched,s=e.setFieldValue,l=e.values;return(0,N.jsxs)(m.l0,{className:y.formulaBody,children:[(0,N.jsxs)("div",{className:y.formulaBlock,children:[(0,N.jsxs)("div",{className:y.formula,children:[(0,N.jsxs)("p",{className:y.text,children:["For girl:",(0,N.jsx)("span",{className:y.formulaText,children:"V=(M*0.03) + (T*0.4)"})]}),(0,N.jsxs)("p",{className:y.text,children:["For man:",(0,N.jsx)("span",{className:y.formulaText,children:"V=(M*0.04) + (T*0.6)"})]})]}),(0,N.jsx)("div",{children:(0,N.jsx)("p",{className:y.formulaExplain,children:"* V is the volume of the water norm in liters per day, M is your body weight, T is the time of active sports, or another type of activity commensurate in terms of loads (in the absence of these, you must set 0)"})})]}),(0,N.jsxs)("div",{className:y.calc,children:[(0,N.jsx)("p",{className:y.calcTitle,children:"Calculate your rate:"}),(0,N.jsxs)("div",{className:y.calcForm,children:[(0,N.jsxs)("label",{className:y.genderText,children:[(0,N.jsx)(m.gN,{className:y.choiceGender,type:"radio",name:"gender",value:"female",checked:"female"===F,onChange:function(){O("female"),Y(!1)}}),"For woman"]}),(0,N.jsxs)("label",{className:y.genderText,children:[(0,N.jsx)(m.gN,{className:y.choiceGender,type:"radio",name:"gender",value:"male",checked:"male"===F,onChange:function(){O("male"),Y(!1)}}),"For man"]}),t.gender&&n.gender&&(0,N.jsx)("div",{className:y.error,children:t.gender})]}),(0,N.jsxs)("div",{className:y.calcWeight,children:[(0,N.jsx)("label",{className:y.calcLabel,children:(0,N.jsx)("span",{children:"Your weight in kilograms:"})}),(0,N.jsx)(m.gN,{className:"".concat(y.calcInput," ").concat(t.weight&&n.weight?y.inputError:""),type:"number",name:"weight",placeholder:"0",onChange:function(e){s("weight",e.target.value),w(e.target.value)}}),t.weight&&n.weight&&(0,N.jsx)("div",{className:y.error,children:t.weight})]}),(0,N.jsxs)("div",{className:y.calcWeight,children:[(0,N.jsx)("label",{className:y.calcLabel,children:"The time of active participation in sports or other activities with a high physical load in hours:"}),(0,N.jsx)(m.gN,{className:"".concat(y.calcInput," ").concat(t.time&&n.time?y.inputError:""),type:"number",name:"time",placeholder:"0",onChange:function(e){s("time",e.target.value),W(e.target.value)}}),t.time&&n.time&&(0,N.jsx)("div",{className:y.error,children:t.time})]}),(0,N.jsxs)("label",{className:y.calcQuantity,children:[(0,N.jsx)("span",{className:y.quantityText,children:"The required amount of water in liters per day:"}),(0,N.jsxs)("span",{className:y.quantityInput,children:[R," L"]})]})]}),(0,N.jsxs)("div",{className:y.drinkQuantity,children:[(0,N.jsx)("p",{className:y.calcTitle,children:"Write down how much water you will drink:"}),(0,N.jsx)(m.gN,{className:"".concat(y.drinkInput," ").concat(t.consumedWater&&(n.consumedWater||l.consumedWater)?y.inputError:""),type:"number",name:"consumedWater",placeholder:"0",value:k,onChange:function(e){s("consumedWater",e.target.value),B(e.target.value)}}),t.consumedWater&&l.consumedWater&&(0,N.jsx)("div",{className:y.error_consumedWater,children:t.consumedWater})]}),(0,N.jsx)("div",{className:y.saveButton,children:(0,N.jsx)(v,{isSubmitting:a||i,disabled:i})})]})}})]})},D={container:"DailyNorma_container__F2b73",contentsDailyNorma:"DailyNorma_contentsDailyNorma__1JDDf",titleDailyNorma:"DailyNorma_titleDailyNorma__YZ2MK",contentsDailyNormaWater:"DailyNorma_contentsDailyNormaWater__ihDOs",titleDailyNormaWater:"DailyNorma_titleDailyNormaWater__KSJZF",Button:"DailyNorma_Button__r6mMp"},S=t(9321),T=function(){var e=(0,n.useState)(!1),a=(0,o.Z)(e,2),t=a[0],s=a[1],l=((0,g.a)().user.dailyNorma/1e3).toFixed(1),r=function(){s(!1)};return(0,N.jsxs)("div",{className:D.container,children:[(0,N.jsxs)("div",{className:D.contentsDailyNorma,children:[(0,N.jsx)("h2",{className:D.titleDailyNorma,children:"My daily norma"}),(0,N.jsxs)("div",{className:D.contentsDailyNormaWater,children:[(0,N.jsx)("span",{className:D.titleDailyNormaWater,children:"".concat(l," L")}),(0,N.jsx)("button",{className:D.Button,type:"submit",value:"edit water button",onClick:function(){s(!0)},children:"Edit"})]})]}),(0,N.jsx)("div",{className:D.DailyNormaBackground}),t&&(0,N.jsx)(S.Z,{onClose:r,children:(0,N.jsx)(w,{onClose:r})})]})};var W,L,C=t.p+"static/media/sprite.fa17737f834d5f32df995b0db7a6d89c.svg",k="WaterRatioPanel_container__7PnQd",B="WaterRatioPanel_containerPanel__vi-Ba",E="WaterRatioPanel_panelText__iSRyb",Z="WaterRatioPanel_percentsRange__Yu37K",F="WaterRatioPanel_percentsPoint__49X3f",O="WaterRatioPanel_percentsValue__f5uvO",I="WaterRatioPanel_valueCurent__MxpTt",P="WaterRatioPanel_valueNotCurent__Sguk+",R="WaterRatioPanel_addBtn__TfGpp",z=t(71),H="TodayListModal_modal_content__SkrMT",A="TodayListModal_header__tW7PW",V="TodayListModal_btn_close__R3WRc",Y="TodayListModal_icon_close__urlyP",G="TodayListModal_title__7lJcX",q="TodayListModal_add_box_modal__DVd0h",J="TodayListModal_subtitle__-uOwd",U="TodayListModal_previos_info__UIaUu",X="TodayListModal_today_volume__Aewf8",Q="TodayListModal_today_time__Xhp+T",K="TodayListModal_add_water__hfqDL",$="TodayListModal_add_water_container_btn__4mBl2",ee="TodayListModal_button_ml__oSTWh",ae="TodayListModal_increment_and_dicrement_icons__lMJob",te="TodayListModal_amount__4APIU",ne="TodayListModal_amoun_water__uEUW1",se="TodayListModal_add_paragraf__OYKV2",le="TodayListModal_add_time__smu3c",re="TodayListModal_select__-fcAx",ie="TodayListModal_input_number__njEGQ",oe="TodayListModal_modal_footer__hm-Y3",ce="TodayListModal_span_ml__35RvB",de="TodayListModal_add_save_btn__9SyNz",ue="TodayListModal_error_message__aeOON",me="TodayListModal_input_error__3Db6J",_e=["title","titleId"];function he(){return he=Object.assign||function(e){for(var a=1;a<arguments.length;a++){var t=arguments[a];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},he.apply(this,arguments)}function ye(e,a){if(null==e)return{};var t,n,s=function(e,a){if(null==e)return{};var t,n,s={},l=Object.keys(e);for(n=0;n<l.length;n++)t=l[n],a.indexOf(t)>=0||(s[t]=e[t]);return s}(e,a);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)t=l[n],a.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(s[t]=e[t])}return s}function xe(e,a){var t=e.title,s=e.titleId,l=ye(e,_e);return n.createElement("svg",he({width:36,height:36,fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:a,"aria-labelledby":s},l),t?n.createElement("title",{id:s},t):null,W||(W=n.createElement("path",{d:"M6.261 3.13 8.4 32.79v.08h18.412l2.139-29.646V3.13H6.26zM26.056 32.04H9.162L7.558 9.824h.882l1.45 19.578c.009.103.055.199.13.27.074.07.172.11.274.11h.034a.401.401 0 0 0 .356-.279.414.414 0 0 0 .02-.159L9.252 9.824H27.66l-1.604 22.215zm1.66-23.046H9.19l-.318-4.328a.423.423 0 0 0-.137-.274.412.412 0 0 0-.284-.107.413.413 0 0 0-.276.146.425.425 0 0 0-.1.299l.319 4.27h-.893l-.364-5.043h20.944l-.364 5.037z",fill:"#407BFF"})),L||(L=n.createElement("path",{d:"M12.78 13.932c.265 0 .525-.08.745-.23.221-.149.393-.362.495-.61a1.38 1.38 0 0 0-.291-1.485 1.325 1.325 0 0 0-1.463-.295 1.346 1.346 0 0 0-.602.502 1.376 1.376 0 0 0 .166 1.72c.252.255.594.398.95.398zm0-1.898a.524.524 0 0 1 .488.331.544.544 0 0 1-.114.585.527.527 0 0 1-.903-.38.54.54 0 0 1 .155-.38c.099-.1.233-.156.374-.156zM12.774 18.358c.003.268.085.53.235.752.15.222.36.394.607.494a1.324 1.324 0 0 0 1.457-.309 1.38 1.38 0 0 0 .28-1.484 1.357 1.357 0 0 0-.497-.607 1.329 1.329 0 0 0-1.697.182 1.363 1.363 0 0 0-.385.972zm1.866 0a.542.542 0 0 1-.327.495.522.522 0 0 1-.577-.116.54.54 0 0 1 .374-.916c.14 0 .275.057.375.157.099.1.155.237.155.38zM22.313 18.392c.265 0 .525-.08.746-.23.22-.149.392-.361.494-.61a1.38 1.38 0 0 0-.29-1.484 1.325 1.325 0 0 0-1.463-.295 1.347 1.347 0 0 0-.603.501 1.376 1.376 0 0 0 .167 1.72c.251.255.593.398.949.398zm0-1.892a.524.524 0 0 1 .49.332.543.543 0 0 1-.118.586.527.527 0 0 1-.901-.387.54.54 0 0 1 .157-.376.525.525 0 0 1 .372-.155zM17.637 15.825c.266 0 .525-.08.746-.23.22-.15.393-.362.495-.611a1.38 1.38 0 0 0-.291-1.484 1.326 1.326 0 0 0-1.463-.295 1.346 1.346 0 0 0-.603.501 1.376 1.376 0 0 0 .167 1.72c.252.255.593.399.95.399zm0-1.899a.524.524 0 0 1 .489.332.543.543 0 0 1-.115.584.527.527 0 0 1-.576.117.53.53 0 0 1-.327-.496.546.546 0 0 1 .145-.398.528.528 0 0 1 .384-.168v.03zM15.078 23.545c.005.221.075.436.2.617s.3.321.504.402a1.093 1.093 0 0 0 1.199-.262 1.13 1.13 0 0 0 .228-1.223 1.122 1.122 0 0 0-.409-.5 1.097 1.097 0 0 0-.613-.188 1.13 1.13 0 0 0-.786.348 1.163 1.163 0 0 0-.323.806zm1.109-.3a.293.293 0 0 1 .273.185.304.304 0 0 1-.064.327.295.295 0 0 1-.322.065.297.297 0 0 1-.183-.277c0-.08.031-.156.087-.212a.293.293 0 0 1 .209-.088zM20.441 22.293c.228.008.453-.054.646-.177s.345-.302.436-.514a1.17 1.17 0 0 0-.234-1.274 1.132 1.132 0 0 0-1.254-.25c-.21.09-.387.242-.51.437a1.166 1.166 0 0 0 .147 1.436c.204.21.48.332.77.342zm0-1.425c.079 0 .154.031.21.088a.303.303 0 0 1 0 .424.294.294 0 0 1-.42 0 .308.308 0 0 1-.091-.212.305.305 0 0 1 .089-.215.294.294 0 0 1 .212-.085zM22.785 12.98c.225 0 .445-.068.632-.194a1.15 1.15 0 0 0 .42-.518 1.17 1.17 0 0 0-.247-1.258 1.123 1.123 0 0 0-1.24-.25 1.142 1.142 0 0 0-.51.425 1.166 1.166 0 0 0 .14 1.457c.214.216.503.338.805.338zm0-1.425a.291.291 0 0 1 .26.049.298.298 0 0 1 .117.24.304.304 0 0 1-.117.239.294.294 0 0 1-.26.049.291.291 0 0 1-.26-.05.298.298 0 0 1-.117-.239.304.304 0 0 1 .118-.24.294.294 0 0 1 .26-.048zM11.665 30.59a.41.41 0 0 0-.218.247.422.422 0 0 0 .03.33.419.419 0 0 0 .364.225.382.382 0 0 0 .182-.04 12.27 12.27 0 0 1 5.614-1.385c2.067.03 4.104.496 5.984 1.368a.405.405 0 0 0 .465-.061.416.416 0 0 0 .104-.464.425.425 0 0 0-.216-.231 15.518 15.518 0 0 0-6.337-1.443c-2.076.002-4.122.5-5.972 1.454z",fill:"#407BFF"})))}var fe=n.forwardRef(xe),pe=(t.p,t(3479)),Ne=t(2299),ve=t.n(Ne);function je(e){var a=new Date,t=e.split(" "),n=(0,o.Z)(t,2),s=n[0],l=n[1],r=s.split(":").map(Number),i=(0,o.Z)(r,2),c=i[0],d=i[1],u=c;return l&&"PM"===l&&c<12&&(u+=12),a.setHours(u,d,0,0),a}var ge=function(e,a){return new Date(a).toLocaleTimeString(e,{hour:"2-digit",minute:"2-digit"})},be=function(e){var a=e.onClose,t=e.isEditing,s=e.amountForEdit,l=e.editTimeInit,r=e.editRecordId,i=(0,n.useState)([]),d=(0,o.Z)(i,2),h=d[0],y=d[1],x=(0,b.O)(),f=x.addWater,p=x.updateWater,v=(0,n.useState)(!1),j=(0,o.Z)(v,2),g=j[0],w=j[1],D=(0,n.useState)(s||0),S=(0,o.Z)(D,2),T=S[0],W=S[1];(0,n.useEffect)((function(){for(var e=new Date,a=e.getHours(),t=e.getMinutes(),n=[],s=0;s<24;s++)for(var l=0;l<60;l+=5)if(!(s===a&&l<t)){var r=String(s).padStart(2,"0"),i=String(l).padStart(2,"0"),o="".concat(r,":").concat(i);n.push(o)}y(n)}),[]);var L=new Date,C=function(){var e=(0,c.Z)(u().mark((function e(n,s){var i,o,c,d,m,_,h,y,x;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=s.setSubmitting,o=s.resetForm,w(!0),c=n.amount,d=n.time,m=c||1,_=d||ge("en-GB",L),h=d||ge("en-GB",l),y={waterVolume:m,date:je(_)},x={_id:r,waterVolume:m,date:je(h)},e.prev=9,!t){e.next=16;break}return e.next=13,p(x);case 13:(0,M.S)("Water update success"),e.next=19;break;case 16:return e.next=18,f(y);case 18:(0,M.S)("Water add success");case 19:o(),a(),e.next=26;break;case 23:e.prev=23,e.t0=e.catch(9),(0,M.s)(e.t0);case 26:return e.prev=26,w(!1),i(!1),e.finish(26);case 30:case"end":return e.stop()}}),e,null,[[9,23,26,30]])})));return function(a,t){return e.apply(this,arguments)}}(),k=function(e){e.target.value.length>4&&(e.target.value=e.target.value.slice(0,4))},B=_.Ry().shape({amount:_.Rx().required("Amount is required").min(1,"Amount must be at least 1").max(5e3,"Amount cannot exceed 5000")});return(0,N.jsx)(N.Fragment,{children:(0,N.jsxs)("div",{className:H,children:[(0,N.jsxs)("div",{className:A,children:[(0,N.jsx)("h2",{className:G,children:t?"Edit the entered amount of water":"Add water"}),(0,N.jsx)("button",{type:"button",value:"close button",className:V,onClick:a,children:(0,N.jsx)(z.IOM,{className:Y})})]}),(0,N.jsx)(m.J9,{initialValues:{amount:t?T:50},validationSchema:B,onSubmit:C,validateOnChange:!0,validateOnBlur:!0,children:function(e){var a=e.errors,n=e.touched,r=e.setFieldValue,i=e.values,o=e.isSubmitting;return(0,N.jsx)(m.l0,{autoComplete:"off",children:(0,N.jsxs)("div",{className:q,children:[t&&(0,N.jsxs)("div",{className:U,children:[(0,N.jsx)(fe,{}),(0,N.jsx)("p",{className:X,children:s?"".concat(s," ml"):"No notes yet"}),(0,N.jsx)("p",{className:Q,children:ge("en-US",l)})]}),(0,N.jsx)("h3",{className:J,children:t?"Correct entered data:":"Choose a value:"}),(0,N.jsxs)("div",{className:K,children:[(0,N.jsx)("p",{className:se,children:"Amount of water:"}),(0,N.jsxs)("div",{className:$,children:[(0,N.jsx)("button",{type:"button",className:ee,onClick:function(){var e=Number(i.amount||0)-50;r("amount",e>0?e:0),W(e>0?e:0)},children:(0,N.jsx)(pe.hXO,{className:ae})}),(0,N.jsx)("div",{className:te,children:(0,N.jsxs)("p",{className:ne,children:[t?T:i.amount||0," ml"]})}),(0,N.jsx)("button",{type:"button",className:ee,onClick:function(){var e=Number(i.amount||0)+50;r("amount",e>0?e:0),W(e>0?e:0)},children:(0,N.jsx)(pe.yJ4,{className:ae})})]})]}),(0,N.jsxs)("div",{className:le,children:[(0,N.jsx)("p",{className:se,children:"Recording time:"}),(0,N.jsxs)(m.gN,{as:"select",name:"time",style:{width:"100%"},className:re,children:[(0,N.jsx)("option",{children:t?ge("em-GB",l):ge("en-GB",L)},"current-time"),h.map((function(e){return(0,N.jsx)("option",{value:e,children:e},e)}))]})]}),(0,N.jsxs)("div",{children:[(0,N.jsx)("h3",{className:J,children:"Enter the value of the water used:"}),(0,N.jsx)(m.gN,{type:"number",className:"".concat(ie," ").concat(a.amount&&(n.amount||i.amount)?me:""),name:"amount",onInput:k}),a.amount&&i.amount?(0,N.jsx)("div",{className:ue,children:a.amount}):null]}),(0,N.jsxs)("div",{className:oe,children:[(0,N.jsxs)("span",{className:ce,children:[t?T:i.amount||0," ml"]}),(0,N.jsxs)("button",{className:de,type:"submit",disabled:o||g,children:[g&&(0,N.jsx)(ve(),{size:24,color:"#ffffff"}),"Save"," "]})]})]})})}})]})})},Me=function(){var e,a=(0,n.useState)(!0),t=(0,o.Z)(a,2),s=t[0],l=t[1],r=(0,n.useState)(!1),i=(0,o.Z)(r,2),c=i[0],d=i[1],u=(0,b.O)().todayStats,m=function(){l(!0)},_=null!==(e=u.fulfillment)&&void 0!==e?e:0;return(0,N.jsxs)("div",{className:k,children:[(0,N.jsxs)("div",{className:B,children:[(0,N.jsx)("label",{className:E,children:"Today"}),(0,N.jsx)("input",{className:Z,style:{backgroundSize:"".concat(_,"% 100%")},onChange:function(){},type:"range",value:"".concat(_),min:"0",max:"100",step:"1","aria-label":"water slider"}),(0,N.jsxs)("label",{"aria-label":"decor",className:F,children:[(0,N.jsx)("span",{children:"|"}),(0,N.jsx)("span",{children:"|"}),(0,N.jsx)("span",{children:"|"})]}),(0,N.jsxs)("label",{"aria-label":"percents Range",className:O,children:[(0,N.jsx)("span",{className:0===_?I:P,children:"0%"}),(0,N.jsx)("span",{className:50===_?I:P,children:"50%"}),(0,N.jsx)("span",{className:_>=100?I:P,children:"100%"})]})]}),(0,N.jsxs)("button",{className:R,onClick:function(){d(!1),l(!1)},children:[(0,N.jsx)("svg",{children:(0,N.jsx)("use",{href:C+"#icon-plus"})}),(0,N.jsx)("span",{children:"Add water"})]}),!s&&(0,N.jsx)(S.Z,{onClose:m,children:(0,N.jsx)(be,{onClose:m,isEditing:c})})]})},we={calendar:"calendar_calendar__RwMEn",monthHeader:"calendar_monthHeader__wTcDs",month:"calendar_month__IIWYv",monthHeaderBtn:"calendar_monthHeaderBtn__vNhcv",monthBtn:"calendar_monthBtn__Ecxex",monthName:"calendar_monthName__wtEtX",dayliList:"calendar_dayliList__PVpjI",day:"calendar_day__PyFUu",daySpan:"calendar_daySpan__f2m5y",percent:"calendar_percent__iQ6NO",unfulfilledDay:"calendar_unfulfilledDay__jcCQK"},De={popup:"PopApCalendar_popup__mPxk3",currentDate:"PopApCalendar_currentDate__mX-iV",table:"PopApCalendar_table__836D-",tableList:"PopApCalendar_tableList__BxTJ6",listNorma:"PopApCalendar_listNorma__zhWli"},Se=function(e){var a,t,s,l=e.isOpen,r=e.onClose,i=e.selectedDay,c=e.selectedMonth,d=e.position,u=e.dayNote,m=(0,n.useRef)(null),_=(0,n.useRef)(null),h=(0,n.useState)({x:d.x,y:d.y}),y=(0,o.Z)(h,2),x=y[0],f=y[1];return(0,n.useEffect)((function(){var e=function(e){"Escape"===e.key&&r()},a=function(e){m.current&&!m.current.contains(e.target)&&e.target!==_.current&&r()},t=function(){r()},n=function(){r()};return l&&(!function(){var e=_.current.getBoundingClientRect(),a=m.current.getBoundingClientRect(),t=d.x,n=d.y;d.x+a.width>e.right&&(t=e.right-a.width),f({x:t,y:n})}(),document.addEventListener("keydown",e),document.addEventListener("mousedown",a),window.addEventListener("resize",n),document.addEventListener("scroll",t)),function(){document.removeEventListener("keydown",e),document.removeEventListener("mousedown",a),window.removeEventListener("resize",n),document.removeEventListener("scroll",t)}}),[l,r,d]),l?(0,N.jsx)("div",{ref:_,children:(0,N.jsx)("div",{ref:m,className:De.popup,style:{top:x.y,left:x.x,position:"fixed"},children:(0,N.jsxs)("div",{className:De.popupContent,children:[(0,N.jsxs)("p",{className:De.currentDate,children:[i,", ",c]}),u.servingsCount?(0,N.jsxs)("ul",{className:De.table,children:[(0,N.jsxs)("li",{className:De.tableList,children:["Daily norma:",(0,N.jsx)("span",{className:De.listNorma,children:null!==(a="".concat((u.dailyNorma/1e3).toFixed(1)," L"))&&void 0!==a?a:0})]}),(0,N.jsxs)("li",{className:De.tableList,children:["Fulfillment of the daily norm:",(0,N.jsx)("span",{className:De.listNorma,children:null!==(t="".concat(u.fulfillment,"%"))&&void 0!==t?t:0})]}),(0,N.jsxs)("li",{className:De.tableList,children:["How many servings of water:",(0,N.jsx)("span",{className:De.listNorma,children:null!==(s=u.servingsCount)&&void 0!==s?s:0})]})]}):(0,N.jsx)("span",{className:De.listNorma,children:"No notes"})]})})}):null},Te=function(e){var a=e.month,t=(0,n.useState)(null),s=(0,o.Z)(t,2),l=s[0],r=s[1],i=(0,n.useState)(null),c=(0,o.Z)(i,2),d=c[0],u=c[1],m=(0,n.useState)(!1),_=(0,o.Z)(m,2),h=_[0],y=_[1],x=(0,n.useState)({x:0,y:0}),f=(0,o.Z)(x,2),p=f[0],v=f[1],j=(0,b.O)().monthNotes,g=function(e){var t=new Date;return new Date(a.getFullYear(),a.getMonth(),e)>t};return(0,N.jsxs)("div",{children:[(0,N.jsx)("ul",{className:we.dayliList,children:Array.from({length:new Date(a.getFullYear(),a.getMonth()+1,0).getDate()},(function(e,a){return a+1})).map((function(e){var t=function(e){var t="".concat(a.getFullYear(),"-").concat((a.getMonth()+1).toString().padStart(2,"0"),"-").concat(e.toString().padStart(2,"0")),n=j.find((function(e){return e.date.startsWith(t)}));return n?n.fulfillment:0}(e),n=g(e),s=n?{}:t<100?{border:"1px solid var(--secondary-orange-FF9D43)"}:{};return(0,N.jsxs)("li",{className:we.day,onClick:n?void 0:function(t){return function(e,t){g(e)||(r(e),u(a.toLocaleString("en-US",{month:"long"})),y(!0),v({x:t.clientX,y:t.clientY}))}(e,t)},style:n?{cursor:"not-allowed",opacity:.5}:{},children:[(0,N.jsx)("span",{className:we.daySpan,style:s,children:e}),(0,N.jsx)("p",{className:we.percent,children:"".concat(t,"%")})]},e)}))}),(0,N.jsx)("div",{className:we.popupContainer,children:(0,N.jsx)(Se,{isOpen:h,onClose:function(){return y(!1)},selectedDay:l,selectedMonth:d,position:p,dayNote:function(e){if(e){var t="".concat(a.getFullYear(),"-").concat((a.getMonth()+1).toString().padStart(2,"0"),"-").concat(e.toString().padStart(2,"0")),n=j.find((function(e){return e.date.startsWith(t)}));return n||{}}}(l)})})]})},We=t(5602),Le=function(){var e=(0,n.useState)(new Date),a=(0,o.Z)(e,2),t=a[0],s=a[1],l=(0,b.O)(),r=l.fetchMonthStats,i=l.isMonthLoading,c=(0,n.useState)([]),d=(0,o.Z)(c,1)[0];(0,n.useEffect)((function(){var e="".concat(t.getFullYear(),"-").concat((t.getMonth()+1).toString().padStart(2,"0"));r(e)}),[r,t]);var u=function(){var e=new Date;return t.getFullYear()===e.getFullYear()&&t.getMonth()===e.getMonth()};return(0,N.jsxs)("div",{className:we.calendar,children:[(0,N.jsxs)("div",{className:we.monthHeader,children:[(0,N.jsx)("h2",{"aria-label":"text today",className:we.month,children:"Month"}),(0,N.jsxs)("div",{className:we.monthHeaderBtn,children:[(0,N.jsxs)("button",{className:we.monthBtn,onClick:function(){s((function(e){var a=new Date(e);return a.setMonth(a.getMonth()-1),a}))},type:"submit",value:"previous month button",children:[(0,N.jsx)("p",{className:"visually-hidden",children:"previous month button"}),(0,N.jsx)("svg",{children:(0,N.jsx)("use",{href:C+"#arrow-left"})})]}),(0,N.jsxs)("span",{className:we.monthName,"aria-label":"current month",children:[t.toLocaleString("en-US",{month:"long"}),", ",t.getFullYear()]}),(0,N.jsxs)("button",{className:we.monthBtn,type:"submit",value:"next month button",onClick:function(){s((function(e){var a=new Date(e);return a.setMonth(a.getMonth()+1),a}))},disabled:u(),style:{fill:u()?"var(--secondary-4-9EBBFF)":""},children:[(0,N.jsx)("p",{className:"visually-hidden",children:"next month button"}),(0,N.jsx)("svg",{children:(0,N.jsx)("use",{href:C+"#arrow-right"})})]})]})]}),i?(0,N.jsx)("div",{className:We.Z.loaderContainer,children:(0,N.jsx)(ve(),{size:50,color:"#407bff"})}):(0,N.jsx)(Te,{month:t,waterConsumptionData:d})]})},Ce="TodayWaterList_containerToday__TJfu1",ke="TodayWaterList_todayText__uXr6+",Be="TodayWaterList_containerList__4Syd9",Ee="TodayWaterList_ulWrap__E5pvM",Ze="TodayWaterList_listItem__Nh9Nv",Fe="TodayWaterList_waterItem__+fvoc",Oe="TodayWaterList_infoWrap__TEXcc",Ie="TodayWaterList_wrapBtn__0g7WW",Pe="TodayWaterList_volume__vm0bK",Re="TodayWaterList_time__4fofH",ze="TodayWaterList_editBtn__Knn2Q",He="TodayWaterList_deleteBtn__129sg",Ae="TodayWaterList_addBtn__UkIMC",Ve="DeleteWaterModal_modal_text__D8zlv",Ye="DeleteWaterModal_modal_content__vhJ+t",Ge="DeleteWaterModal_header__+o3cH",qe="DeleteWaterModal_title__MGHXJ",Je="DeleteWaterModal_btn_close__bcafC",Ue="DeleteWaterModal_icon_close__Kviru",Xe="DeleteWaterModal_btn_container__DMZGt",Qe="DeleteWaterModal_btn_cancel__-LcoH",Ke="DeleteWaterModal_btn_logout__r249Z",$e=function(e){var a=e.onClose,t=e.deleteRecordId,s=(0,b.O)().deleteWater,l=(0,n.useState)(!1),r=(0,o.Z)(l,2),i=r[0],d=r[1],m=function(){var e=(0,c.Z)(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,d(!0),e.next=4,s({_id:t});case 4:(0,M.S)("Delete success"),a(),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),(0,M.s)(e.t0);case 11:return e.prev=11,d(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[0,8,11,14]])})));return function(){return e.apply(this,arguments)}}();return(0,N.jsx)(N.Fragment,{children:(0,N.jsxs)("div",{className:Ye,children:[(0,N.jsxs)("div",{className:Ge,children:[(0,N.jsx)("h2",{className:qe,children:"Delete entry"}),(0,N.jsx)("button",{type:"button",value:"close button",className:Je,onClick:a,children:(0,N.jsx)(z.IOM,{className:Ue})})]}),(0,N.jsx)("p",{className:Ve,children:"Are you sure you want to delete the entry?"}),(0,N.jsxs)("div",{className:Xe,children:[(0,N.jsx)("button",{type:"button",value:"close cancel",className:Qe,onClick:a,children:"Cancel"}),(0,N.jsxs)("button",{type:"button",value:"logout button",className:Ke,onClick:m,children:[i&&(0,N.jsx)(ve(),{size:24,color:"#ffffff"})," Delete"," "]})]})]})})},ea=function(){var e=(0,b.O)(),a=e.todayStats,t=e.isTodayLoading,s=(0,n.useState)(null),l=(0,o.Z)(s,2),r=l[0],i=l[1],c=(0,n.useState)(!0),d=(0,o.Z)(c,2),u=d[0],m=d[1],_=(0,n.useState)(!1),h=(0,o.Z)(_,2),y=h[0],x=h[1],f=(0,n.useState)(!1),p=(0,o.Z)(f,2),v=p[0],j=p[1],g=function(){j(!1)},M=function(){m(!0)},w=function(e){i(e),x(!0),m(!1)},D=a.dayNotes;return(0,N.jsxs)("div",{className:Ce,children:[(0,N.jsx)("h2",{"aria-label":"text today",className:ke,children:"Today"}),(0,N.jsxs)("div",{className:Be,children:[t?(0,N.jsx)("div",{className:We.Z.loaderContainer,children:(0,N.jsx)(ve(),{size:50,color:"#407bff"})}):(0,N.jsx)("ul",{className:Ee,children:(null===D||void 0===D?void 0:D.length)>0?D.slice().sort((function(e,a){return new Date(e.date).getTime()-new Date(a.date).getTime()})).map((function(e){return(0,N.jsxs)("li",{className:Ze,children:[(0,N.jsxs)("div",{className:Oe,children:[(0,N.jsx)("svg",{children:(0,N.jsx)("use",{href:C+"#cup"})}),(0,N.jsxs)("p",{className:Pe,children:[e.waterVolume," ml"]}),(0,N.jsx)("p",{className:Re,children:ge("en-US",e.date)})]}),(0,N.jsxs)("div",{className:Ie,children:[(0,N.jsxs)("button",{type:"submit",value:"edit water button",className:ze,onClick:function(){w(e)},children:[(0,N.jsx)("p",{className:"visually-hidden",children:"edit water button"}),(0,N.jsx)("svg",{children:(0,N.jsx)("use",{href:C+"#edit"})})]}),(0,N.jsxs)("button",{type:"submit",value:"delete water button",className:He,onClick:function(){!function(e){i(e),j(!0)}(e)},children:[(0,N.jsx)("p",{className:"visually-hidden",children:"delete water button"}),(0,N.jsx)("svg",{children:(0,N.jsx)("use",{href:C+"#trash"})})]})]})]},e._id)})):(0,N.jsx)("li",{children:(0,N.jsx)("p",{className:Fe,children:"No notes yet"})})}),v&&(0,N.jsx)(S.Z,{onClose:g,children:(0,N.jsx)($e,{onClose:g,deleteRecordId:null===r||void 0===r?void 0:r._id})}),!u&&(0,N.jsx)(S.Z,{onClose:M,children:(0,N.jsx)(be,{onClose:function(){x(!1),M()},isEditing:y,amountForEdit:null===r||void 0===r?void 0:r.waterVolume,editTimeInit:null===r||void 0===r?void 0:r.date,editRecordId:null===r||void 0===r?void 0:r._id})}),(0,N.jsxs)("button",{type:"submit",value:"add water button",className:Ae,onClick:function(){x(!1),m(!1)},children:[(0,N.jsx)("p",{className:"visually-hidden",children:"add water button"}),(0,N.jsx)("svg",{children:(0,N.jsx)("use",{href:C+"#plus"})}),"Add water"]})]})]})},aa=function(){var e=(0,b.O)().fetchTodayStats;return(0,n.useEffect)((function(){e()}),[e]),(0,N.jsxs)("section",{className:s,children:[(0,N.jsx)("h1",{className:"visually-hidden","aria-label":"Water tracker",children:"Water tracker join us"}),(0,N.jsx)("div",{className:"container",children:(0,N.jsxs)("div",{className:l,children:[(0,N.jsxs)("div",{className:r,children:[(0,N.jsx)(T,{}),(0,N.jsx)(Me,{})]}),(0,N.jsxs)("div",{className:i,children:[(0,N.jsx)(ea,{}),(0,N.jsx)(Le,{})]})]})})]})}}}]);
//# sourceMappingURL=330.56a4b269.chunk.js.map